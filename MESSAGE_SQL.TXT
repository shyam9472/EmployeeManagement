CREATE USER(
	USER_ID int AUTO_INCREMENT,
	NAME varchar(50) NOT NULL,
	CONTACT varchar(10) UNIQUE NOT NULL,
	EMAIL_ID varchar(30),
	USERNAME varchar(20) NOT NULL,
	PRIMARY KEY(USER_ID)
)

INSERT INTO USER(NAME,CONTACT,EMAIL_ID,USERNAME)
	VALUES 
	("SARTHAK",8989898982,"sarthak@gmail.com","sarthakC"),
	("ANAND",8989898981,"anand@gmail.com","anandS"),
	("NEHA",8989898980,"neha@gmail.com","nehaP"),
	("PAYAL",8989898983,"payal@gmail.com","payalN");
	

CREATE TABLE MESSAGE_INFO(
	M_ID int AUTO_INCREMENT,
	MESSAGE mediumtext NOT NULL,
	SENT_BY int NOT NULL,
	SENT_TO int NOT NULL,
	STATUS varchar(50),
	M-TIMESTAMP timestamp, 
	PRIMARY KEY(M_ID),
	FOREIGN KEY(SENT_BY) REFERENCES USER(USER_ID) ON DELETE CASCADE,
	FOREIGN KEY(SENT_TO) REFERENCES USER(USER_ID) ON DELETE CASCADE,
)

INSERT INTO MESSAGE_INFO(MESSAGE, SENT_BY, SENT_TO , STATUS )
	VALUES("ABBA DABBA CHABBA",2,3,"CHALA GAYA"),
	("MAI NI KHELUNGA ABSE",1,2,"PAHUCH GAYA")

TO DISPLAY NAMES OF SENDER AND RECEIVER -->

SELECT T.*,U.NAME AS RECEIVERS_NAME FROM (SELECT M.* , U.NAME AS SENDERS_NAME FROM MESSAGE_INFO M INNER JOIN USER U ON M.SENT_BY=U.USER_ID) AS T INNER JOIN USER U ON T.SENT_TO=U.USER_ID
